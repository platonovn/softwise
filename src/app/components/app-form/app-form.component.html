<mat-grid-list [cols]="responseData ? 2 : 1"
               rowHeight="100vh">
  <mat-grid-tile>
    <form class="app-form"
          (submit)="handleSubmit($event)"
          [formGroup]="form">
      <mat-form-field class="app-form_field">
        <mat-label>Date:</mat-label>
        <input matInput
               formControlName="date"
               type="date">
        <mat-error *ngIf="form.controls.date.errors?.serverError">
          {{ form.controls.date.errors?.serverError.message }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="app-form_field">
        <mat-label>First name</mat-label>
        <input matInput
               formControlName="first_name"
               autocomplete="off"
               placeholder="First name">
        <mat-error *ngIf="form.controls.first_name.errors?.serverError">
          {{ form.controls.first_name.errors?.serverError.message }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="app-form_field">
        <mat-label>Last name</mat-label>
        <input matInput
               autocomplete="off"
               formControlName="last_name"
               placeholder="Last name">
        <mat-error *ngIf="form.controls.last_name.errors?.serverError">
          {{ form.controls.last_name.errors?.serverError.message }}
        </mat-error>
      </mat-form-field>

      <button mat-button
              aria-label="Submit"
              color="primary"
              [disabled]="!form.valid">
        Submit
      </button>
    </form>
  </mat-grid-tile>


  <mat-grid-tile *ngIf="responseData">
    <div class="app-form_table-container">
      <table mat-table [dataSource]="responseData" class="app-form_table">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let element"> {{element.date}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnsToDisplay; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
      </table>
    </div>
  </mat-grid-tile>
</mat-grid-list>

<!-- loader should be a separate component,
     but not in this project -->
<div
  *ngIf="dataService.isLoading"
  class="app-form_spinner-back">
  <mat-spinner mode="indeterminate"
               class="app-form_spinner"></mat-spinner>
</div>
